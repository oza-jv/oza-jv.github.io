<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>なでしこ３</title>
</head>

<body>
<!-- ここに画面レイアウトをあらかじめ作っておく -->
<audio id="audio1"></audio>
<video id="video1" width="320"></video>
<img id="img1" width="160"></img>
<div id="div1"></div>

<!-- なでしこ3のエンジンを取り込み -->
<script type="text/javascript" src="https://nadesi.com/v3/cdn.php?v=3.1.8&f=release/wnako3.js&run"></script>
<!-- プラグインを取り込み -->
<script type="text/javascript" src="https://oza-jv.github.io/plugin_media.js"></script>

<!-- なでしこのプログラム -->
<script type="なでしこ">
// 初期設定 -- HTML内でなでしこを使うときは必ず実行する
結果領域＝「#div1」。
結果領域へDOM親要素設定。結果領域に「」をHTML設定。

// ここから，なでしこのプログラムを書いていきます
ID=「video1」。
F=「test2.mp4」。
IDにFを動画読込。

逐次実行
　　先に、「#1 読み込み直後：」＆（IDの音状態）を書く。  // #1 読み込み後はmuted=true
　　次に、１秒待機。

　　次に、IDを動画再生。
　　次に、「#2 再生中：」＆（IDの音状態）を書く。        // #2 muted=trueのままで音が出ない
　　次に、１秒待機。

　　次に、IDの動画音オン。
　　次に、「#3 動画音オン直後：」＆（IDの音状態）を書く。// #3 muted=falseにすると動画が止まる
　　次に、１秒待機。

　　次に、IDを動画再開。
　　次に、「#4 音オンのまま再開：」＆（IDの音状態）を書く。// #4 muted=falseのままでは再開されない
　　次に、１秒待機。

　　次に、IDの動画音オフ。
　　次に、IDを動画再開。
　　次に、「#5 音オフで再開：」＆（IDの音状態）を書く。  // #5 muted=trueにすると映像のみ再開
　　次に、１秒待機。

　　次に、再生テスト。
ここまで。

●(IDの)音状態とは
　　変数　フラグ＝「#{ID}」の「muted」をDOM属性取得。
　　もし、フラグ＝はいならば
　　　　「音オフ」を戻す。
　　違えば
　　　　「音オン」を戻す。
　　ここまで。
ここまで。

●再生テストとは
　　ボタン１＝「再生」のボタン作成。改行作成。
　　ボタン１をクリックした時には
　　　　逐次実行
　　　　　　先に、IDの動画音オン。
　　　　　　次に、IDを動画再生。
　　　　　　次に、「#6 ボタンで再生：」＆（IDの音状態）を書く。// #6 muted=falseで音が出る
　　　　　　次に、１秒待機。

　　　　　　次に、IDの動画音オフ。
　　　　　　次に、「#7 音オフ：」＆（IDの音状態）を書く。  // #7 muted=trueにしても映像は動く
　　　　　　次に、１秒待機。

　　　　　　次に、IDの動画音オン。
　　　　　　次に、「#8 音オン：」＆（IDの音状態）を書く。  // #8 muted=false
　　　　　　次に、１秒待機。
　　　　　　
　　　　　　次に、IDを動画停止。
　　　　ここまで。
　　ここまで。
ここまで。


</script>
</body></html>
