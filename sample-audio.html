<!-- sample-pic.html
     音を読み込むテスト by oza-jv  2020/12/12 -->
<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>なでしこ　音読込のテスト</title>
</head>

<body>
<h1>なでしこ３ブラウザ版で音を扱うテスト</h1>

<div>↓★あらかじめ埋め込んだaudioタグ id=audio1</div>
<audio id="audio1"></audio>
<hr />
<div>id=div1</div>
<div id="div1"></div>
<hr />
<div>※音素材は，<a href="" title="フリー音楽素材/魔王魂" target="_blank">フリー音楽素材/魔王魂</a>，
なでしこv1に同梱のもの を使用。</div>

<!-- なでしこ3のエンジンを取り込み -->
<script type="text/javascript" src="https://nadesi.com/v3/cdn.php?v=3.1.8&f=release/wnako3.js&run"></script>
<!-- プラグインを取り込み -->
<script type="text/javascript" src="plugin_media.js"></script>

<!-- なでしこのプログラム -->
<script type="なでしこ">
// 初期設定 -- HTML内でなでしこを使うときは必ず実行する
結果領域＝「#div1」。
結果領域へDOM親要素設定。結果領域に「」をHTML設定。

// 定数の定義と初期設定
埋込音ID＝「audio1」。  // あらかじめ埋め込んだaudioタグのID
Ａ１＝「bgm1.mp3」。
Ａ２＝「poka.wav」。
Ａ３＝「basi.wav」。

// あらかじめ埋め込んだaudioタグに音を読み込む
埋込音IDにＡ１を音読込。
ＦＮ＝１。

// コントロールボタンの設置
ボタン１＝「★の音を再生」のボタン作成。
ボタン１をクリックした時には
　　埋込音IDを音再生。
ここまで。

ボタン２＝「★の音を停止」のボタン作成。
ボタン２をクリックした時には
　　埋込音IDを音停止。
ここまで。

ボタン３＝「★の音を再開」のボタン作成。
ボタン３をクリックした時には
　　埋込音IDを音再開。
ここまで。
改行作成。
改行作成。

// audioタグを動的に生成する
動的音ID＝Ａ２を音追加。  // 「音追加」の戻り値は，生成したelementのID
「▲生成した音のID={動的音ID}」を書く。
ＦＮ＝２。

// コントロールボタンの設置
ボタン４＝「▲の音を再生」のボタン作成。
ボタン４をクリックした時には
　　動的音IDを音再生。
ここまで。

ボタン５＝「▲の音を停止」のボタン作成。
ボタン５をクリックした時には
　　動的音IDを音停止。
ここまで。

ボタン６＝「▲の音を再開」のボタン作成。
ボタン６をクリックした時には
　　動的音IDを音再開。
ここまで。

ボタン７＝「▲の音を変更」のボタン作成。
ボタン７をクリックした時には
　　もし、ＦＮ＝２ならば、
　　　　ＦＮ＝３。
　　　　動的音IDにＡ３を音読込。
　　違えば
　　　　ＦＮ＝２。
　　　　動的音IDにＡ２を音読込。
　　ここまで。
ここまで。

</script>
</body></html>
